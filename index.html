<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF回転テスト生成ツール</title>
    <style>
        body {
            font-family: 'Yu Gothic', 'Meiryo', 'MS Gothic', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        
        .controls {
            max-width: 800px;
            margin: 0 auto 30px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        .download-btn {
            background: #2c5aa0;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            transition: background 0.3s;
        }
        
        .download-btn:hover {
            background: #1e3d6f;
        }
        
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }
        
        /* 各テストページ */
        .test-page {
            width: 210mm;
            height: 297mm;
            margin: 20px auto;
            padding: 20mm;
            border: 2px solid #ccc;
            background: white;
            box-sizing: border-box;
            display: none;
            position: relative;
        }
        
        .test-page.active {
            display: block;
        }
        
        .page-content {
            font-size: 18px;
            line-height: 1.8;
            color: #333;
            font-family: 'Yu Gothic', 'Meiryo', 'MS Gothic', sans-serif;
        }
        
        .page-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            color: #2c5aa0;
        }
        
        .test-text {
            margin-bottom: 20px;
        }
        
        .orientation-label {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff6b6b;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
        }
        
        /* 回転スタイル */
        .normal { transform: rotate(0deg); }
        .left-rotate { transform: rotate(90deg); }
        .right-rotate { transform: rotate(-90deg); }
        .upside-down { transform: rotate(180deg); }
        
        /* 印刷専用スタイル */
        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            body {
                margin: 0 !important;
                padding: 0 !important;
                background: white !important;
                font-family: 'Yu Gothic', 'Meiryo', 'MS Gothic', sans-serif !important;
            }
            
            .controls {
                display: none !important;
            }
            
            .test-page {
                display: block !important;
                margin: 0 !important;
                border: none !important;
                width: 100% !important;
                height: 100vh !important;
                padding: 20mm !important;
                page-break-after: avoid !important;
                background: white !important;
            }
            
            .test-page:not(.active) {
                display: none !important;
            }
            
            /* ヘッダー・フッターを完全に削除 */
            @page {
                margin: 0 !important;
                padding: 0 !important;
                size: A4 !important;
                /* ヘッダーとフッターを無効化 */
                @top-left { content: none !important; }
                @top-center { content: none !important; }
                @top-right { content: none !important; }
                @bottom-left { content: none !important; }
                @bottom-center { content: none !important; }
                @bottom-right { content: none !important; }
            }
            
            /* Chromeの印刷時のヘッダー・フッター削除 */
            html, body {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
        }
    </style>
</head>
<body>
    <div class="controls">
        <h1>📄 PDF回転テスト用ファイル生成</h1>
        
        <div class="instructions">
            <h3>💡 使用方法</h3>
            <ol>
                <li>下のボタンをクリックして生成したいPDFを選択</li>
                <li>ブラウザの印刷機能（Ctrl+P）で「PDFとして保存」を選択</li>
                <li><strong>重要：印刷設定で「ヘッダーとフッター」を必ずOFFにする</strong></li>
                <li>余白は「最小」または「なし」を選択</li>
                <li>適切なファイル名で保存（normal.pdf, left_rotated.pdf など）</li>
                <li>生成したPDFを input/ フォルダに保存してテスト</li>
            </ol>
            <div style="background: #ffebee; padding: 10px; border-radius: 5px; margin-top: 10px;">
                <strong>⚠️ 注意：</strong> 印刷設定で「ヘッダーとフッター」をOFFにしないと、
                日付やURLが印刷されてしまいます！
            </div>
        </div>
        
        <div style="text-align: center;">
            <button class="download-btn" onclick="showPage('normal')">正常向き PDF</button>
            <button class="download-btn" onclick="showPage('left')">左回転 PDF</button>
            <button class="download-btn" onclick="showPage('right')">右回転 PDF</button>
            <button class="download-btn" onclick="showPage('upside')">逆回転 PDF</button>
            <br><br>
            <button class="download-btn" onclick="printAll()" style="background: #27ae60;">全ページ一括生成</button>
        </div>
    </div>
    
    <!-- 正常向きページ -->
    <div class="test-page normal" id="normal-page">
        <div class="orientation-label">正常 (0°)</div>
        <div class="page-content">
            <div class="page-title">これは日本語のテストです</div>
            <div class="test-text">正しい向きで読めますか？</div>
            <div class="test-text">このページは正常な向きです。</div>
            <div class="test-text">2024年8月7日</div>
            <div class="test-text">テキストの配置と向きを確認してください。</div>
            <div class="test-text">
                PDF回転検出アルゴリズムのテスト用ページです。<br>
                このテキストが正しく読める状態が「正常」です。<br>
                文字がきちんと表示されているかご確認ください。
            </div>
        </div>
    </div>
    
    <!-- 左回転ページ -->
    <div class="test-page left-rotate" id="left-page">
        <div class="orientation-label">左回転 (90°)</div>
        <div class="page-content">
            <div class="page-title">これは日本語のテストです</div>
            <div class="test-text">正しい向きで読めますか？</div>
            <div class="test-text">このページは左に90度回転しています。</div>
            <div class="test-text">2024年8月7日</div>
            <div class="test-text">テキストの配置と向きを確認してください。</div>
            <div class="test-text">
                PDF回転検出アルゴリズムのテスト用ページです。<br>
                このテキストを読むには右に90度回転が必要です。<br>
                回転した状態で保存されます。
            </div>
        </div>
    </div>
    
    <!-- 右回転ページ -->
    <div class="test-page right-rotate" id="right-page">
        <div class="orientation-label">右回転 (-90°)</div>
        <div class="page-content">
            <div class="page-title">これは日本語のテストです</div>
            <div class="test-text">正しい向きで読めますか？</div>
            <div class="test-text">このページは右に90度回転しています。</div>
            <div class="test-text">2024年8月7日</div>
            <div class="test-text">テキストの配置と向きを確認してください。</div>
            <div class="test-text">
                PDF回転検出アルゴリズムのテスト用ページです。<br>
                このテキストを読むには左に90度回転が必要です。<br>
                回転した状態で保存されます。
            </div>
        </div>
    </div>
    
    <!-- 逆回転ページ -->
    <div class="test-page upside-down" id="upside-page">
        <div class="orientation-label">逆回転 (180°)</div>
        <div class="page-content">
            <div class="page-title">これは日本語のテストです</div>
            <div class="test-text">正しい向きで読めますか？</div>
            <div class="test-text">このページは180度回転しています。</div>
            <div class="test-text">2024年8月7日</div>
            <div class="test-text">テキストの配置と向きを確認してください。</div>
            <div class="test-text">
                PDF回転検出アルゴリズムのテスト用ページです。<br>
                このテキストを読むには180度回転が必要です。<br>
                逆さまの状態で保存されます。
            </div>
        </div>
    </div>

    <script>
        function showPage(type) {
            // 全ページを非表示
            document.querySelectorAll('.test-page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 指定されたページを表示
            const pageId = type + '-page';
            document.getElementById(pageId).classList.add('active');
            
            // ファイル名をタイトルに設定
            const filename = {
                'normal': 'normal.pdf',
                'left': 'left_rotated.pdf',
                'right': 'right_rotated.pdf',
                'upside': 'upside_down.pdf'
            };
            
            document.title = filename[type];
            
            // 少し待ってから印刷
            setTimeout(() => {
                window.print();
            }, 500);
        }
        
        function printAll() {
            // 全ページを表示
            document.querySelectorAll('.test-page').forEach(page => {
                page.classList.add('active');
            });
            
            document.title = 'all_rotations.pdf';
            
            setTimeout(() => {
                window.print();
            }, 500);
        }
        
        // 印刷後に元の状態に戻す
        window.addEventListener('afterprint', () => {
            document.querySelectorAll('.test-page').forEach(page => {
                page.classList.remove('active');
            });
            document.title = 'PDF回転テスト生成ツール';
        });
        
        // 初期表示用
        document.addEventListener('DOMContentLoaded', () => {
            // デフォルトでは何も表示しない
        });
    </script>
</body>
</html>